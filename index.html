<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>I love you Anna</title>
  <!-- Google Font for a nicer title -->
  <link href="https://fonts.googleapis.com/css2?family=Lobster&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      font-family: Arial, sans-serif;
      background-color: #ffe6e6;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
    }
    
    h1 {
      color: #d6336c;
      font-size: 3em;
      text-align: center;
      font-family: 'Lobster', cursive;
    }
    
    .buttons {
      margin-top: 20px;
    }
    
    /* Uniform, nicer button styling */
    button {
      padding: 15px 30px;
      margin: 10px;
      font-size: 1.2em;
      border: none;
      border-radius: 20px;  /* rounded shape */
      cursor: pointer;
      background-color: #ffb3b3;  /* a soft rose, similar to the background */
      color: #ffffff;
      transition: background-color 0.3s;
    }
    
    button:hover {
      background-color: #ff9999; /* a slightly darker rose on hover */
    }
    
    /* The "No" button remains positioned absolutely so it can move on hover */
    #noBtn {
      position: absolute;
    }
    
    /* Bunny sprite styling:
       - The original PNG is 160×160 with a 5×5 grid.
       - Each unscaled frame is 32×32.
       - A factor‑5 scale makes each frame 160×160.
       - background-size is set to 800×800 to match the 5×5 grid.
    */
    .bunny {
      width: 160px;
      height: 160px;
      background: url('Bunny1.png') 0 0 no-repeat;
      background-size: 800px 800px;
      position: absolute;
      top: -160px;  /* starts above view so the fall brings it fully into view */
      animation: fall 3s ease-in-out forwards;
      transform: translateZ(0); /* force hardware acceleration */
    }
    
    /* Bunny falling animation (kept as before) */
    @keyframes fall {
      0% { top: -160px; }
      100% { top: calc(100vh - 160px); }
    }
  </style>
</head>
<body>
  <h1>Do you wanna be my Valentine?<br>(Would make me VERY happy)</h1>
  <div class="buttons">
    <button id="yesBtn" onclick="createBunny()">Yes</button>
    <button id="noBtn">No</button>
  </div>
  
  <script>
    const bunnyContainer = document.querySelector("body");
    const maxBunnies = 12;
    let bunnyCount = 0;
    
    // "No" button movement logic
    const noBtn = document.getElementById("noBtn");
    noBtn.addEventListener("mouseover", () => {
      const randomX = Math.floor(Math.random() * (window.innerWidth - noBtn.offsetWidth));
      const randomY = Math.floor(Math.random() * (window.innerHeight - noBtn.offsetHeight));
      noBtn.style.left = `${randomX}px`;
      noBtn.style.top = `${randomY}px`;
    });
    
    // Create a bunny when "Yes" is clicked
    function createBunny() {
      if (bunnyCount < maxBunnies) {
        const bunny = document.createElement("div");
        bunny.classList.add("bunny");
        bunnyContainer.appendChild(bunny);
        setRandomStart(bunny);
        bunnyCount++;
        
        // After the fall (3s) plus a short delay (300ms),
        // start the sprite animation and horizontal movement.
        setTimeout(() => {
          startSpriteAnimation(bunny);
          moveBunnySideways(bunny);
        }, 3300);
      } else {
        alert("Maximum number of bunnies reached!");
      }
    }
    
    // Set a random horizontal starting position
    function setRandomStart(bunny) {
      const maxX = window.innerWidth - bunny.offsetWidth;
      const randomX = Math.floor(Math.random() * maxX);
      bunny.style.left = `${randomX}px`;
    }
    
    // Update the bunny's sprite frame at 12 fps.
    function startSpriteAnimation(bunny) {
      const fps = 12;
      const frameDuration = 1000 / fps;
      const totalFrames = 25;
      let frame = 0;
      setInterval(() => {
        const col = frame % 5;
        const row = Math.floor(frame / 5);
        const posX = -col * 160;
        const posY = -row * 160;
        bunny.style.backgroundPosition = `${posX}px ${posY}px`;
        frame = (frame + 1) % totalFrames;
      }, frameDuration);
    }
    
    // Move the bunny horizontally smoothly over 2.08 seconds,
    // matching the duration of the sprite animation cycle.
    function moveBunnySideways(bunny) {
      const maxX = window.innerWidth - bunny.offsetWidth;
      const targetLeft = Math.floor(Math.random() * maxX);
      bunny.style.transition = "left 2.08s linear";
      bunny.style.left = `${targetLeft}px`;
      setTimeout(() => moveBunnySideways(bunny), 2080);
    }
  </script>
</body>
</html>

















